webpackJsonp([33],{"785o":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("r4Fr"),n={data:function(){return{name:"",dialogVisible:!1,id:"",type:"",tableData:[],token:sessionStorage.getItem("adminToken")?sessionStorage.getItem("adminToken"):localStorage.getItem("adminToken")}},mounted:function(){this.getCardPackage()},filters:{},methods:{openPackage:function(e,t,a){var n=this,l={token:this.token,open:!e,type:a,_id:t};o.a.renamecardpackage(l).then(function(e){0==e.data.code?n.$message.error(e.data.msg):1==e.data.code&&(n.$message({message:e.data.msg,type:"success"}),n.getCardPackage(),n.dialogVisible=!1)})},sendCardPackage:function(){var e=this,t={name:this.name,token:this.token,type:this.type,_id:this.id};o.a.renamecardpackage(t).then(function(t){0==t.data.code?e.$message.error(t.data.msg):1==t.data.code&&(e.$message({message:t.data.msg,type:"success"}),e.getCardPackage(),e.dialogVisible=!1)})},newPackage:function(){this.id="",this.type="add",this.name="",this.dialogVisible=!0},goEditor:function(e,t){this.id=e,this.type="edit",this.name=t,this.dialogVisible=!0},getCardPackage:function(){var e=this;o.a.searchcardpackage({all:!0}).then(function(t){0==t.data.code?e.$message.error(t.data.msg):1==t.data.code&&(e.tableData=t.data.data)})}}},l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wmcard_admincenter_common_right_body"},[a("div",{staticClass:"clearfix"},[a("el-button",{staticClass:"fr",attrs:{type:"primary"},on:{click:e.newPackage}},[e._v("创建卡包")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"卡包名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"packageId",label:"卡包ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oneStar",label:"一星卡"}}),e._v(" "),a("el-table-column",{attrs:{prop:"twoStar",label:"二星卡"}}),e._v(" "),a("el-table-column",{attrs:{prop:"threeStar",label:"三星卡"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fourStar",label:"四星卡"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fiveStar",label:"五星卡"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sixStar",label:"六星卡"}}),e._v(" "),a("el-table-column",{attrs:{label:"合计"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.oneStar+t.row.twoStar+t.row.threeStar+t.row.fourStar+t.row.fiveStar+t.row.sixStar))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"日常"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-switch",{attrs:{value:t.row.open,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.openPackage(t.row.open,t.row._id,"daily")}}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"星星商店"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-switch",{attrs:{value:t.row.starShopOpen,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.openPackage(t.row.starShopOpen,t.row._id,"shop")}}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"猜卡"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-switch",{attrs:{value:t.row.guessOpen,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.openPackage(t.row.guessOpen,t.row._id,"guess")}}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"结缘"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-switch",{attrs:{value:t.row.starCoinOpen,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.openPackage(t.row.starCoinOpen,t.row._id,"starCoin")}}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.goEditor(t.row._id,t.row.name)}}},[e._v("改名")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("el-input",{attrs:{placeholder:"请输入卡包名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.sendCardPackage}},[e._v("确定")])],1)])],1)},r=[],i={render:l,staticRenderFns:r},s=i,c=a("VU/8"),d=c(n,s,!1,null,null,null);t.default=d.exports}});