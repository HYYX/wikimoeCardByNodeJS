webpackJsonp([2],{EfxW:function(t,e){},"J+GG":function(t,e){},NHnr:function(t,e,r){"use strict";function a(t){r("wB98")}function s(t){r("ryXC")}function o(t){r("ePMA")}function n(t){r("J+GG")}Object.defineProperty(e,"__esModule",{value:!0});var i=r("Dd8w"),c=r.n(i),d=r("lRwf"),l=r.n(d),u=r("SJI6"),f=r.n(u),m={},h={},p={namespaced:!0,state:m,mutations:h},v=new f.a.Store({modules:{app:p}}),_=v,g=r("pRNm"),w=r.n(g),C=r("OMN4"),$=r.n(C),k=function(t){return $.a.create(t)}({baseURL:"/api"}),y=function(t){return{login:function(e){return t.post("login",e)},dailycard:function(e){return t.post("dailycard",e)},reg:function(e){return t.post("reg",e)}}}(k),x=function(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)},b=function(t){return/^\d{4,8}$/.test(t)},R=function(t){return/^[\u4E00-\u9FA5\u0800-\u4e00A-Za-z0-9_]{2,8}$/.test(t)},L={props:{trigger:{type:String,default:"click"},value:{type:Boolean,default:!0},direction:{type:String,default:"row"},cardSrc:{type:String,default:""}},data:function(){return{surface:!0}},watch:{value:function(t){console.log(this.value),"custom"==this.trigger&&this.fn_reserve_action(t)}},methods:{fn_reserve_action:function(t){var e="row"==this.direction?["rotateY(180deg)","rotateY(0deg)","rotateY(-180deg)"]:["rotateX(180deg)","rotateX(0deg)","rotateX(-180deg)"];this.$refs.cardz.style.transform=t?e[0]:e[1],this.$refs.cardf.style.transform=t?e[1]:e[2]},eve_cardres_click:function(){"click"==this.trigger&&(this.fn_reserve_action(this.surface),this.surface=!this.surface)},eve_cardres_msover:function(){"hover"==this.trigger&&this.fn_reserve_action(!0)},eve_cardres_msout:function(){"hover"==this.trigger&&this.fn_reserve_action(!1)}}},I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-3d",on:{click:t.eve_cardres_click,mouseover:t.eve_cardres_msover,mouseout:t.eve_cardres_msout}},[r("div",{ref:"cardz",staticClass:"card card-z"},[t._t("cz")],2),t._v(" "),r("div",{ref:"cardf",class:["card","row"==t.direction?"card-f-y":"card-f-x"]},[t._t("cf",[""!==t.cardSrc?r("img",{staticClass:"wm_getcard_img",attrs:{width:"100%",height:"100%",src:t.cardSrc}}):t._e()])],2)])},S=[],N={render:I,staticRenderFns:S},B=N,D=r("VU/8"),z=a,V=D(L,B,!1,z,null,null),E=V.exports,T={data:function(){return{email:"",getCardList:["","",""],cardIsRotate:[!1,!1,!1],seled:!1}},components:{rotate3DCard:E},mounted:function(){console.log(this.$refs.cardListBody.children)},methods:{tryGetCard:function(){y.dailycard({email:this.email}).then(function(t){console.log(t)})},getDailyCard:function(t){var e=this;return!this.seled&&(x(!this.email)?(this.$message.error("邮箱格式不正确！"),!1):(console.log(t),void y.dailycard({email:this.email,sel:t}).then(function(t){if(console.log(t),0==t.data.code)e.$message.error(t.data.msg);else if(1==t.data.code){e.seled=!0;var r=t.data;e.$set(e.getCardList,0,"/static/img/"+r.cardChoiseList[0]+".jpg"),e.$set(e.getCardList,1,"/static/img/"+r.cardChoiseList[1]+".jpg"),e.$set(e.getCardList,2,"/static/img/"+r.cardChoiseList[2]+".jpg"),e.$set(e.cardIsRotate,r.choiseIndex,!0);for(var a=0;a<3;a++)!function(t){t!==r.choiseIndex&&(setTimeout(function(){e.$refs.cardListBody.children[t].classList.add("no-selectedcard")},950),setTimeout(function(){e.$set(e.cardIsRotate,t,!0)},800))}(a)}else 2==t.data.code&&e.$confirm("您尚未注册，是否进入注册页？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.push({path:"/reg"})}).catch(function(){})})))}}},M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h5",{staticClass:"wm_card_chiose_title"},[t._v("每天一次神抽")]),t._v(" "),r("div",{staticClass:"wm_card_email_body"},[r("el-input",{staticClass:"wm_card_email",attrs:{placeholder:"请先输入邮箱地址再点击卡片"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),r("div",{staticClass:"cardList"},[r("div",{ref:"cardListBody",staticClass:"cardList_body"},[r("div",{staticClass:"card_list",class:t.seled?"selectedcard":"",on:{click:function(e){return t.getDailyCard(0)}}},[r("rotate3DCard",{attrs:{trigger:"custom",direction:"row",cardSrc:t.getCardList[0]},model:{value:t.cardIsRotate[0],callback:function(e){t.$set(t.cardIsRotate,0,e)},expression:"cardIsRotate[0]"}},[t._t("cz"),t._v(" "),t._t("cf")],2)],1),t._v(" "),r("div",{staticClass:"card_list",class:t.seled?"selectedcard":"",on:{click:function(e){return t.getDailyCard(1)}}},[r("rotate3DCard",{attrs:{trigger:"custom",direction:"row",cardSrc:t.getCardList[1]},model:{value:t.cardIsRotate[1],callback:function(e){t.$set(t.cardIsRotate,1,e)},expression:"cardIsRotate[1]"}},[t._t("cz"),t._v(" "),t._t("cf")],2)],1),t._v(" "),r("div",{staticClass:"card_list",class:t.seled?"selectedcard":"",on:{click:function(e){return t.getDailyCard(2)}}},[r("rotate3DCard",{attrs:{trigger:"custom",direction:"row",cardSrc:t.getCardList[2]},model:{value:t.cardIsRotate[2],callback:function(e){t.$set(t.cardIsRotate,2,e)},expression:"cardIsRotate[2]"}},[t._t("cz"),t._v(" "),t._t("cf")],2)],1)])])])},F=[],G={render:M,staticRenderFns:F},J=G,O=r("VU/8"),U=s,X=O(T,J,!1,U,"data-v-77519612",null),j=X.exports,A={data:function(){return{form:{email:"",password:"",code:"",nickName:""}}},methods:{onSubmit:function(){var t=this;return x(this.form.email)?b(this.form.password)?R(this.form.nickName)?void y.reg({email:this.form.email,password:this.form.password,nickName:this.form.nickName}).then(function(e){if(console.log(e),0==e.data.code)t.$message.error(e.data.msg);else if(1==e.data.code){e.data;t.$alert("恭喜您，注册成功！","提示",{confirmButtonText:"确定",showClose:!1,callback:function(e){t.$router.push({path:"/"})}})}}):(this.$message.error("昵称只能允许为2-8位中英日数字与下划线！"),!1):(this.$message.error("密码必须为4-8位纯数字！"),!1):(this.$message.error("邮箱格式有误！"),!1)},backIndex:function(){this.$router.push({path:"/"})},emailToLowerCase:function(){this.form.email=this.form.email.toLowerCase()}}},Y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"reg_body"},[r("h5",{staticClass:"common_title"},[t._v("注册账号")]),t._v(" "),r("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"邮箱地址"}},[r("el-input",{attrs:{placeholder:"请输入邮箱地址"},on:{input:t.emailToLowerCase},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"昵称"}},[r("el-input",{attrs:{placeholder:"昵称格式为2-8位中英日数字下划线"},model:{value:t.form.nickName,callback:function(e){t.$set(t.form,"nickName",e)},expression:"form.nickName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"密码"}},[r("el-input",{attrs:{"show-password":"",placeholder:"请输入4-8位纯数字"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"邮箱验证"}},[r("el-input",{attrs:{placeholder:"邮箱验证码功能未完成，留空"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}},[r("el-button",{attrs:{slot:"append"},slot:"append"},[t._v("发送验证码")])],1)],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("注册抽卡")]),t._v(" "),r("el-button",{on:{click:t.backIndex}},[t._v("返回首页")])],1)],1)],1)},H=[],P={render:Y,staticRenderFns:H},W=P,q=r("VU/8"),K=o,Z=q(A,W,!1,K,"data-v-590ba770",null),Q=Z.exports,tt=function(){return r.e(0).then(r.bind(null,"KHiY"))},et=new w.a({mode:"history",scrollBehavior:function(t,e,r){return r||(r={x:0,y:0}),r},routes:[{name:"home",path:"/",component:j},{name:"reg",path:"/reg",component:Q},{name:"404",path:"/404",component:tt},{path:"*",redirect:"/404"}]}),rt=et,at=r("woOf"),st=r.n(at),ot={};ot.install=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!ot.install.installed){ot.install.installed=!0;var r=t;st()($.a.defaults,e),r.$http=$.a,r.prototype.$http=$.a}},window.Vue&&window.Vue.use(ot);var nt=ot,it=r("zL8q"),ct=r.n(it),dt=(r("tvR6"),{data:function(){return{}}}),lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},ut=[],ft={render:lt,staticRenderFns:ut},mt=ft,ht=r("VU/8"),pt=n,vt=ht(dt,mt,!1,pt,"data-v-3076ff55",null),_t=vt.exports;r("u7k/"),r("EfxW");l.a.use(ct.a),l.a.use(nt);var gt=new l.a(c()({},_t,{router:rt,store:_}));document.addEventListener("DOMContentLoaded",function(){gt.$mount("#app")})},OMN4:function(t,e){t.exports=axios},SJI6:function(t,e){t.exports=Vuex},ePMA:function(t,e){},lRwf:function(t,e){t.exports=Vue},pRNm:function(t,e){t.exports=VueRouter},ryXC:function(t,e){},tvR6:function(t,e){},"u7k/":function(t,e){},wB98:function(t,e){}},["NHnr"]);