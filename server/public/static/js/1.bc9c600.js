webpackJsonp([1],{Dh1e:function(t,e,s){"use strict";function o(t){s("Qcyi")}Object.defineProperty(e,"__esModule",{value:!0});var r=s("r4Fr"),a=(s("oAV5"),{data:function(){return{form:{account:"",password:"",dailyChance:"",smtpHost:"",smtpPort:"",smtpAuthUser:"",smtpAuthPass:"",sessionSecret:"",JWTSecret:""}}},mounted:function(){this.chekInstall()},methods:{chekInstall:function(){var t=this;r.a.admincheckinstall().then(function(e){1!=e.data.code&&t.$router.replace({path:"/"})})},onSubmit:function(){var t=this;for(var e in this.form)if(!this.form[e])return this.$message.error("有数据为空，请检查！"),!1;if(this.form.dailyChance=Math.abs(Math.round(this.form.dailyChance)),this.form.smtpPort=Math.abs(Math.round(this.form.smtpPort)),isNaN(this.form.dailyChance))return this.$message.error("抽卡次数必须为数字"),!1;if(isNaN(this.form.smtpPort))return this.$message.error("端口必须为数字"),!1;var s={config:this.form};r.a.admininstall(s).then(function(e){console.log(e),1==e.data.code?t.$alert("恭喜您，安装成功！","提示",{confirmButtonText:"确定",showClose:!1,callback:function(e){t.$router.push({path:"/"})}}):t.$message.error(e.data.msg)})},backIndex:function(){this.$router.push({path:"/"})}}}),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"common_body"},[s("h5",{staticClass:"common_title"},[t._v("初始化安装")]),t._v(" "),s("el-form",{ref:"form",attrs:{model:t.form,"label-width":"140px"}},[s("el-form-item",{attrs:{label:"管理员账号"}},[s("el-input",{attrs:{placeholder:"请设定管理员账号"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"管理员密码"}},[s("el-input",{attrs:{"show-password":"",placeholder:"请设定管理员密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"每日抽卡次数"}},[s("el-input",{attrs:{placeholder:"请设定每日抽卡次数",type:"number"},model:{value:t.form.dailyChance,callback:function(e){t.$set(t.form,"dailyChance",e)},expression:"form.dailyChance"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"邮件发送host"}},[s("el-input",{attrs:{placeholder:"请设定邮件发送host地址"},model:{value:t.form.smtpHost,callback:function(e){t.$set(t.form,"smtpHost",e)},expression:"form.smtpHost"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"邮件发送端口"}},[s("el-input",{attrs:{placeholder:"请设定邮件发送端口",type:"number"},model:{value:t.form.smtpPort,callback:function(e){t.$set(t.form,"smtpPort",e)},expression:"form.smtpPort"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"邮箱账户"}},[s("el-input",{attrs:{placeholder:"请设定邮箱账户"},model:{value:t.form.smtpAuthUser,callback:function(e){t.$set(t.form,"smtpAuthUser",e)},expression:"form.smtpAuthUser"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"邮箱密码"}},[s("el-input",{attrs:{"show-password":"",placeholder:"请设定邮箱密码"},model:{value:t.form.smtpAuthPass,callback:function(e){t.$set(t.form,"smtpAuthPass",e)},expression:"form.smtpAuthPass"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"session"}},[s("el-input",{attrs:{placeholder:"用于session加密的字符串"},model:{value:t.form.sessionSecret,callback:function(e){t.$set(t.form,"sessionSecret",e)},expression:"form.sessionSecret"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"JWTSecret"}},[s("el-input",{attrs:{placeholder:"用于JWT加密字符串"},model:{value:t.form.JWTSecret,callback:function(e){t.$set(t.form,"JWTSecret",e)},expression:"form.JWTSecret"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("安装")]),t._v(" "),s("el-button",{on:{click:t.backIndex}},[t._v("返回首页")])],1)],1)],1)},n=[],i={render:l,staticRenderFns:n},m=i,c=s("VU/8"),f=o,u=c(a,m,!1,f,"data-v-ea8205a4",null);e.default=u.exports},Qcyi:function(t,e,s){var o=s("jiOy");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);s("rjj0")("82f53b88",o,!0,{})},jiOy:function(t,e,s){e=t.exports=s("FZ+f")(!1),e.push([t.i,"",""])}});